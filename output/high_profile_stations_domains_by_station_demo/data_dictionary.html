<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>NOAA Demo Data Dictionary</title>
  <style>
    :root {
      --bg: #f7f8fb;
      --card: #ffffff;
      --text: #17202a;
      --muted: #52606d;
      --line: #d9e2ec;
      --accent: #0b7285;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      padding: 32px;
      font-family: "Segoe UI", "Helvetica Neue", Arial, sans-serif;
      color: var(--text);
      background: var(--bg);
      line-height: 1.5;
    }
    h1, h2 { margin: 0 0 10px 0; }
    p { margin: 0 0 12px 0; }
    .wrap { max-width: 1200px; margin: 0 auto; }
    .card {
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: 12px;
      padding: 18px;
      margin-bottom: 16px;
    }
    .muted { color: var(--muted); }
    .badge {
      display: inline-block;
      padding: 2px 8px;
      border-radius: 999px;
      font-size: 12px;
      font-weight: 600;
      background: #e6fcf5;
      color: #0b6b53;
      border: 1px solid #b2f2dd;
      margin-right: 8px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 8px;
      font-size: 14px;
    }
    th, td {
      border: 1px solid var(--line);
      padding: 8px 10px;
      text-align: left;
      vertical-align: top;
    }
    th {
      background: #f1f5f9;
      font-weight: 700;
    }
    code {
      font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
      background: #f1f5f9;
      border: 1px solid #dbe4ee;
      border-radius: 4px;
      padding: 1px 4px;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1>NOAA Demo Data Dictionary</h1>
      <p class="muted">For files in <code>output/high_profile_stations_domains_by_station_demo/</code>, generated with the <code>--profile demo</code> split.</p>
      <p><span class="badge">Audience</span>Civil / infrastructure / applied climate users</p>
      <p><span class="badge">Date</span>February 25, 2026</p>
    </div>

    <div class="card">
      <h2>Common Columns (Present in Every Demo File)</h2>
      <table>
        <thead>
          <tr><th>Column</th><th>Meaning</th><th>Type / Unit</th></tr>
        </thead>
        <tbody>
          <tr><td><code>station_id</code></td><td>NOAA station identifier used in filenames and joins.</td><td>String</td></tr>
          <tr><td><code>station_name</code></td><td>Human-readable station name.</td><td>String</td></tr>
          <tr><td><code>DATE</code></td><td>Observation timestamp from source record.</td><td>Datetime string (UTC in source feed)</td></tr>
          <tr><td><code>LATITUDE</code></td><td>Station latitude.</td><td>Decimal degrees</td></tr>
          <tr><td><code>LONGITUDE</code></td><td>Station longitude.</td><td>Decimal degrees</td></tr>
          <tr><td><code>ELEVATION</code></td><td>Station elevation above mean sea level.</td><td>Meters</td></tr>
          <tr><td><code>Year</code></td><td>Year extracted from <code>DATE</code>.</td><td>Integer</td></tr>
          <tr><td><code>MonthNum</code></td><td>Month (1-12) extracted from <code>DATE</code>.</td><td>Integer</td></tr>
          <tr><td><code>Day</code></td><td>Day-of-month extracted from <code>DATE</code>.</td><td>Integer</td></tr>
          <tr><td><code>Hour</code></td><td>Hour-of-day extracted from <code>DATE</code>.</td><td>Integer (0-23)</td></tr>
          <tr><td><code>row_has_any_usable_metric</code></td><td>Computed per split file. True when at least one domain metric in that file is usable for that row.</td><td>Boolean</td></tr>
          <tr><td><code>usable_metric_fraction</code></td><td>Computed per split file. Fraction of usable domain metrics in that file for that row. Rows with all domain metrics null evaluate to <code>0.0</code>.</td><td>Float (0-1)</td></tr>
        </tbody>
      </table>
    </div>

    <div class="card">
      <h2>How Usability Is Computed in Split Files</h2>
      <p><strong>Step 1:</strong> If the split file has one or more <code>__qc_pass</code> columns, usability uses those QC flags.</p>
      <p><strong>Step 2:</strong> If no <code>__qc_pass</code> columns exist for that domain, usability uses non-null counts across that domain's metric columns.</p>
      <p><strong>Formula:</strong> <code>usable_metric_fraction = usable_count / tracked_metric_count</code></p>
      <p class="muted">This means usability values are local to each domain file and are not inherited from the global pre-split table.</p>
    </div>

    <div class="card">
      <h2>Domain: <code>temperature</code></h2>
      <table>
        <thead><tr><th>Column</th><th>Meaning</th><th>Type / Unit</th></tr></thead>
        <tbody>
          <tr><td><code>temperature_c</code></td><td>Air temperature.</td><td>Numeric, degrees C</td></tr>
          <tr><td><code>extreme_temp_c_1</code></td><td>Extreme temperature value for the first period field.</td><td>Numeric, degrees C</td></tr>
          <tr><td><code>extreme_temp_type_1</code></td><td>NOAA code for extreme type (e.g., max/min style code).</td><td>Categorical code</td></tr>
          <tr><td><code>extreme_temp_period_hours_1</code></td><td>Hours covered by the extreme temperature calculation.</td><td>Numeric, hours</td></tr>
          <tr><td><code>sea_surface_temperature_c</code></td><td>Sea surface temperature when reported.</td><td>Numeric, degrees C</td></tr>
          <tr><td><code>TMP__qc_pass</code></td><td>Temperature value passed strict parsing and quality/range checks.</td><td>Boolean</td></tr>
        </tbody>
      </table>
    </div>

    <div class="card">
      <h2>Domain: <code>dew_point</code></h2>
      <table>
        <thead><tr><th>Column</th><th>Meaning</th><th>Type / Unit</th></tr></thead>
        <tbody>
          <tr><td><code>dew_point_c</code></td><td>Dew point temperature.</td><td>Numeric, degrees C</td></tr>
          <tr><td><code>DEW__qc_pass</code></td><td>Dew point passed strict parsing and quality/range checks.</td><td>Boolean</td></tr>
        </tbody>
      </table>
    </div>

    <div class="card">
      <h2>Domain: <code>wind</code></h2>
      <table>
        <thead><tr><th>Column</th><th>Meaning</th><th>Type / Unit</th></tr></thead>
        <tbody>
          <tr><td><code>wind_speed_ms</code></td><td>Wind speed.</td><td>Numeric, m/s</td></tr>
          <tr><td><code>wind_direction_deg</code></td><td>Wind direction clockwise from north.</td><td>Numeric, degrees</td></tr>
          <tr><td><code>wind_gust_ms</code></td><td>Wind gust speed when reported.</td><td>Numeric, m/s</td></tr>
          <tr><td><code>wind_type_code</code></td><td>NOAA wind type indicator.</td><td>Categorical code</td></tr>
          <tr><td><code>WND__part4__qc_pass</code></td><td>Wind-speed component passed strict validation.</td><td>Boolean</td></tr>
        </tbody>
      </table>
    </div>

    <div class="card">
      <h2>Domain: <code>pressure</code></h2>
      <table>
        <thead><tr><th>Column</th><th>Meaning</th><th>Type / Unit</th></tr></thead>
        <tbody>
          <tr><td><code>sea_level_pressure_hpa</code></td><td>Sea-level pressure estimate.</td><td>Numeric, hPa</td></tr>
          <tr><td><code>station_pressure_hpa</code></td><td>Pressure observed at station elevation.</td><td>Numeric, hPa</td></tr>
          <tr><td><code>altimeter_setting_hpa</code></td><td>Altimeter pressure setting.</td><td>Numeric, hPa</td></tr>
          <tr><td><code>SLP__qc_pass</code></td><td>Sea-level pressure field passed strict validation.</td><td>Boolean</td></tr>
        </tbody>
      </table>
    </div>

    <div class="card">
      <h2>Domain: <code>visibility_ceiling</code></h2>
      <table>
        <thead><tr><th>Column</th><th>Meaning</th><th>Type / Unit</th></tr></thead>
        <tbody>
          <tr><td><code>visibility_m</code></td><td>Horizontal visibility.</td><td>Numeric, meters</td></tr>
          <tr><td><code>ceiling_height_m</code></td><td>Ceiling height.</td><td>Numeric, meters</td></tr>
          <tr><td><code>ceiling_cavok_code</code></td><td>CAVOK sky/visibility condition code from source.</td><td>Categorical code</td></tr>
          <tr><td><code>VIS__part1__qc_pass</code></td><td>Visibility value passed strict validation.</td><td>Boolean</td></tr>
          <tr><td><code>CIG__part1__qc_pass</code></td><td>Ceiling height value passed strict validation.</td><td>Boolean</td></tr>
        </tbody>
      </table>
    </div>

    <div class="card">
      <h2>Domain: <code>precipitation</code></h2>
      <table>
        <thead><tr><th>Column</th><th>Meaning</th><th>Type / Unit</th></tr></thead>
        <tbody>
          <tr><td><code>precip_amount_1</code></td><td>Primary precipitation amount field.</td><td>Numeric, source-scaled</td></tr>
          <tr><td><code>precip_period_hours_1</code></td><td>Hours represented by primary precipitation amount.</td><td>Numeric, hours</td></tr>
          <tr><td><code>precip_amount_2</code></td><td>Secondary precipitation amount field.</td><td>Numeric, source-scaled</td></tr>
          <tr><td><code>precip_period_hours_2</code></td><td>Hours represented by secondary precipitation amount.</td><td>Numeric, hours</td></tr>
          <tr><td><code>snow_accum_depth_cm_1</code></td><td>Snow accumulation depth.</td><td>Numeric, cm</td></tr>
          <tr><td><code>AA1__part2__qc_pass</code></td><td>Primary precipitation amount passed strict validation.</td><td>Boolean</td></tr>
          <tr><td><code>AA2__part2__qc_pass</code></td><td>Secondary precipitation amount passed strict validation.</td><td>Boolean</td></tr>
        </tbody>
      </table>
    </div>

    <div class="card">
      <h2>Domain: <code>cloud_solar</code></h2>
      <table>
        <thead><tr><th>Column</th><th>Meaning</th><th>Type / Unit</th></tr></thead>
        <tbody>
          <tr><td><code>cloud_total_coverage</code></td><td>Total cloud coverage code.</td><td>Categorical code</td></tr>
          <tr><td><code>cloud_opaque_coverage</code></td><td>Opaque cloud coverage code.</td><td>Categorical code</td></tr>
          <tr><td><code>cloud_lowest_base_height_m</code></td><td>Height of lowest cloud base.</td><td>Numeric, meters</td></tr>
          <tr><td><code>cloud_layer_coverage_1</code></td><td>Coverage code for first cloud layer.</td><td>Categorical code</td></tr>
          <tr><td><code>cloud_layer_base_height_m_1</code></td><td>Base height for first cloud layer.</td><td>Numeric, meters</td></tr>
          <tr><td><code>convective_cloud_code</code></td><td>Convective cloud type/category code.</td><td>Categorical code</td></tr>
        </tbody>
      </table>
    </div>

    <div class="card">
      <h2>Domain: <code>weather_occurrence</code></h2>
      <table>
        <thead><tr><th>Column</th><th>Meaning</th><th>Type / Unit</th></tr></thead>
        <tbody>
          <tr><td><code>present_weather_code_1</code></td><td>Observed present weather code.</td><td>Categorical code</td></tr>
          <tr><td><code>automated_present_weather_code_1</code></td><td>Automated system present weather code.</td><td>Categorical code</td></tr>
          <tr><td><code>past_weather_condition_code_1</code></td><td>Recent past weather condition code (slot 1).</td><td>Categorical code</td></tr>
          <tr><td><code>past_weather_period_hours_1</code></td><td>Duration window for past weather slot 1.</td><td>Numeric, hours</td></tr>
          <tr><td><code>past_weather_condition_code_2</code></td><td>Recent past weather condition code (slot 2).</td><td>Categorical code</td></tr>
          <tr><td><code>past_weather_period_hours_2</code></td><td>Duration window for past weather slot 2.</td><td>Numeric, hours</td></tr>
        </tbody>
      </table>
    </div>

    <div class="card">
      <h2>Domain: <code>other</code></h2>
      <table>
        <thead><tr><th>Column</th><th>Meaning</th><th>Type / Unit</th></tr></thead>
        <tbody>
          <tr><td><code>remarks_text</code></td><td>Free-text remarks from source report.</td><td>Text</td></tr>
          <tr><td><code>wave_height_m</code></td><td>Wave height where reported.</td><td>Numeric, meters</td></tr>
          <tr><td><code>wave_period_seconds</code></td><td>Wave period where reported.</td><td>Numeric, seconds</td></tr>
          <tr><td><code>swell_height_m</code></td><td>Swell height where reported.</td><td>Numeric, meters</td></tr>
          <tr><td><code>swell_direction_deg</code></td><td>Swell direction.</td><td>Numeric, degrees</td></tr>
          <tr><td><code>sea_state_code</code></td><td>Sea-state category code.</td><td>Categorical code</td></tr>
        </tbody>
      </table>
    </div>
  </div>
</body>
</html>
